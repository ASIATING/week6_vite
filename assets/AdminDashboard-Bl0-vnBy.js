import{a as e}from"./axios-Bo0ATomq.js";import{_ as p,r,o as u,c as v,a,d as s,w as n,b as c,p as m,e as g}from"./index-CZXW76CP.js";const b={mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");e.defaults.headers.common.Authorization=o,this.checkLogin()},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2"}},methods:{checkLogin(){e.post(`${this.apiUrl}/api/user/check`).then(o=>{console.log("已登入"),this.$router.push("/admin/products"),console.log(o)}).catch(o=>{alert(o.response.data.message),this.$router.push("/login")})},logout(){e.post(`${this.apiUrl}/logout`).then(o=>{console.log(o),console.log("已登出"),this.$router.push("/")}).catch(o=>{alert(o)})}}},d=o=>(m("data-v-7417dc8b"),o=o(),g(),o),f={class:"container-fluid"},k={class:"row"},x={class:"navbar navbar-expand-md navbar-light bg-light fixed-top"},$={class:"container-fluid"},w=d(()=>a("a",{class:"navbar-brand",href:"/admin/products"},"後台",-1)),N=d(()=>a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1)),V={class:"collapse navbar-collapse",id:"navbarNav"},I={class:"navbar-nav"},L={class:"nav-item"},R={class:"nav-item"},A={class:"nav-item"},B={class:"nav-item"},C={class:"mainArea"},S={class:"container"};function T(o,i,U,y,z,l){const t=r("RouterLink"),_=r("RouterView");return u(),v("div",f,[a("div",k,[a("nav",x,[a("div",$,[w,N,a("div",V,[a("ul",I,[a("li",L,[s(t,{to:"/",class:"nav-link"},{default:n(()=>[c("回到前台")]),_:1})]),a("li",R,[s(t,{to:"/admin/products",class:"nav-link"},{default:n(()=>[c("後台產品列表")]),_:1})]),a("li",A,[s(t,{to:"/admin/orders",class:"nav-link"},{default:n(()=>[c("後台訂單")]),_:1})]),a("li",B,[a("a",{href:"#",class:"nav-link",onClick:i[0]||(i[0]=(...h)=>l.logout&&l.logout(...h))},"登出")])])])])])]),a("div",C,[a("main",S,[s(_)])])])}const j=p(b,[["render",T],["__scopeId","data-v-7417dc8b"]]);export{j as default};
