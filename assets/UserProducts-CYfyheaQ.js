import{a as w}from"./axios-Bo0ATomq.js";import{S as y}from"./sweetalert2.all-BhxzVmTj.js";import{P as A}from"./PaginationArea-XNppxwT3.js";import{p as b,c as E}from"./productStore-CgCJkn_K.js";import{_ as T,m as k,l as V,r as _,o as l,c as p,a as t,d as m,w as h,F as B,j as P,h as S,n as L,t as d,i as O,p as N,e as D}from"./index-DWoxCmm_.js";import{S as U,a as j,A as F,N as R,P as z}from"./pagination.min-CKBtAKwh.js";const u="/week6_vite/catFoot.png";var H={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"ting-hexschool",BASE_URL:"/week6_vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:g,VITE_PATH:f}=H,M={components:{paginationArea:A,Swiper:U,SwiperSlide:j},data(){return{products:[],cart:{},qty:1,productModal:null,loadingItem:"",pagination:{},selectedOption:"",modules:[F,R,z]}},mounted(){this.getProducts()},methods:{...k(b,["getProducts","serchBtn"]),...k(E,["addToCart"]),getProducts(i){this.isLoading=!0;let e=`${g}/api/${f}/products?page=${i||1}`;this.selectedOption!==""&&(e=`${g}/api/${f}/products?category=${this.selectedOption}&page=${i||1}`),w.get(e).then(n=>{this.isLoading=!1,this.pagination=n.data.pagination,console.log(this.pagination),this.products=n.data.products}).catch(n=>{this.isLoading=!1,alert(n.response.data.message)})},serchBtn(i){this.selectedOption=i,this.getProducts()},addToCart(i,e=1){const n=`${g}/api/${f}/cart`;w.post(n,{data:{product_id:i,qty:e}}).then(r=>{console.log(r),y.fire({position:"top-end",icon:"success",title:`${r.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})}).catch(r=>{y.fire({position:"top-end",icon:"error",title:`${r.response.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})})}},computed:{...V(b,["products","pagination","isLoading"])}},o=i=>(N("data-v-344caaaf"),i=i(),D(),i),q={class:"productsContainer pt-lg-5 pt-3"},G={class:"container"},J={class:"row"},K={class:"col-md-4"},Q={class:"sideBar"},W=o(()=>t("h3",{class:"fw-bold"},"商品分類",-1)),X={class:"list-group"},Y=o(()=>t("input",{type:"radio",name:"options",id:"option1"},null,-1)),Z=o(()=>t("label",{for:"option1"},"全部商品",-1)),tt=o(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),st=[Y,Z,tt],ot=o(()=>t("input",{type:"radio",name:"options",id:"option2"},null,-1)),et=o(()=>t("label",{for:"option2"},"捐贈浪狗品項",-1)),it=o(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),nt=[ot,et,it],at=o(()=>t("input",{type:"radio",name:"options",id:"option3"},null,-1)),lt=o(()=>t("label",{for:"option3"},"捐贈浪貓品項",-1)),dt=o(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),ct=[at,lt,dt],rt=o(()=>t("input",{type:"radio",name:"options",id:"option4"},null,-1)),_t=o(()=>t("label",{for:"option4"},"狗飼料",-1)),pt=o(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),ut=[rt,_t,pt],mt=o(()=>t("input",{type:"radio",name:"options",id:"option5"},null,-1)),ht=o(()=>t("label",{for:"option5"},"貓飼料",-1)),gt=o(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),ft=[mt,ht,gt],vt={class:"d-none d-md-block"},wt=o(()=>t("h5",{class:"fw-bold mt-5"},"近期熱賣",-1)),yt={class:"cardOuter"},bt={class:"col-md-8"},kt=o(()=>t("h3",{class:"fw-bold"},"全部商品",-1)),Bt={key:0,class:"loading-container vh-100"},Pt={class:"row g-0"},St={class:"col-4"},Ct=["src"],$t={class:"col-8"},xt={class:"card-body"},It={class:"card-title fw-bold"},At={class:"card-text d-none d-md-block"},Et={class:"d-flex justify-content-between align-items-end"},Tt={class:"fw-bold text-danger fz-3"},Vt={class:"d-flex flex-column flex-md-row align-items-md-center mt-md-0 mt-3"},Lt=o(()=>t("div",{class:"btn btn-primary cardBtn moreBtn mb-2 mb-md-0 mr-md-3"},"查看更多",-1)),Ot=["onClick"],Nt={class:"d-flex justify-content-end"};function Dt(i,e,n,r,c,a){const v=_("router-link"),C=_("swiper-slide"),$=_("swiper"),x=_("vue-loading"),I=_("paginationArea");return l(),p("div",q,[t("div",G,[t("div",J,[t("div",K,[t("div",Q,[W,t("ul",X,[t("li",{class:"list-group-item",onClick:e[0]||(e[0]=s=>a.serchBtn(""))},st),t("li",{class:"list-group-item",onClick:e[1]||(e[1]=s=>a.serchBtn("贊助狗"))},nt),t("li",{class:"list-group-item",onClick:e[2]||(e[2]=s=>a.serchBtn("贊助貓"))},ct),t("li",{class:"list-group-item",onClick:e[3]||(e[3]=s=>a.serchBtn("狗飼料"))},ut),t("li",{class:"list-group-item",onClick:e[4]||(e[4]=s=>a.serchBtn("貓飼料"))},ft)]),t("div",vt,[wt,m($,{spaceBetween:10,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},slidesPerView:1,modules:c.modules,class:"mySwiper mb-5 container"},{default:h(()=>[(l(!0),p(B,null,P(c.products,s=>(l(),S(C,{key:s.id},{default:h(()=>[t("div",yt,[c.products&&c.products.length>0?(l(),S(v,{key:0,class:"card-hotProduct card--lg",style:L(`background-image: url(${s.imageUrl})`),to:`/product/${s.id}`},{default:h(()=>[t("h5",null,d(s.title),1),t("div",null,d(s.category),1),t("div",null,d(`${s.price}/${s.unit}`),1)]),_:2},1032,["style","to"])):O("",!0)])]),_:2},1024))),128))]),_:1},8,["modules"])])])]),t("div",bt,[kt,i.isLoading?(l(),p("div",Bt,[m(x,{active:i.isLoading},null,8,["active"])])):(l(!0),p(B,{key:1},P(c.products,s=>(l(),p("div",{key:s.id,class:"card productCard mb-3"},[t("div",Pt,[t("div",St,[t("img",{src:s.imageUrl,class:"img-fluid rounded-start",alt:"商品照片"},null,8,Ct)]),t("div",$t,[t("div",xt,[t("h5",It,d(s.title),1),t("p",At,d(s.description),1),t("div",Et,[t("div",null,[t("div",null,[t("del",null,"建議售價:"+d(s.origin_price),1)]),t("div",Tt,"優惠價格:"+d(s.price),1)]),t("div",Vt,[m(v,{to:`/product/${s.id}`},{default:h(()=>[Lt]),_:2},1032,["to"]),t("div",{class:"btn btn-outline-primary cardBtn addToCartBtn ms-md-3",onClick:Ut=>a.addToCart(s.id)},"加入購物車",8,Ot)])])])])])]))),128)),t("div",Nt,[m(I,{pagination:c.pagination,onEmitPages:a.getProducts},null,8,["pagination","onEmitPages"])])])])])])}const qt=T(M,[["render",Dt],["__scopeId","data-v-344caaaf"]]);export{qt as default};
