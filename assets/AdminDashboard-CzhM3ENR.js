import{a}from"./axios-Bo0ATomq.js";import{_ as h,r as i,o as p,c as m,a as n,b as t,w as r,d as e}from"./index-Dib2dAOW.js";const _={mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.defaults.headers.common.Authorization=o,this.checkLogin()},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2/"}},methods:{checkLogin(){a.post(`${this.apiUrl}/api/user/check`).then(o=>{console.log("已登入"),console.log(o)}).catch(o=>{alert(o.response.data.message),this.$router.push("/login")})},logout(){a.post(`${this.apiUrl}/logout`).then(o=>{console.log(o),this.$router.push("/")}).catch(o=>{alert(o)})}}},f=n("h5",null,"後台-首頁",-1);function g(o,c,k,$,x,l){const s=i("RouterLink"),u=i("RouterView");return p(),m("div",null,[n("div",null,[f,t(s,{to:"/"},{default:r(()=>[e("回到前台")]),_:1}),e(" | "),t(s,{to:"/admin/products"},{default:r(()=>[e("後台產品列表")]),_:1}),e(" | "),t(s,{to:"/admin/orders"},{default:r(()=>[e("後台訂單")]),_:1}),e(" | "),n("a",{href:"#",onClick:c[0]||(c[0]=(...d)=>l.logout&&l.logout(...d))},"登出")]),t(u)])}const w=h(_,[["render",g]]);export{w as default};
