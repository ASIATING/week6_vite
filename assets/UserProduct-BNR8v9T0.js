import{a as p}from"./axios-Bo0ATomq.js";import{S as f}from"./sweetalert2.all-JLqXbPj8.js";import{l as A,_ as x,m as b,q as B,r as _,o as r,c as h,a as t,d as u,w as d,t as l,s as C,v as N,F as m,j as P,u as D,k as O,b as g,h as w,n as L,i as R,p as H,e as U}from"./index-BYoJGlXi.js";import{S as W,a as M,A as j,N as q,P as z}from"./pagination.min-DjcQIQiG.js";var F={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"ting-hexschool",BASE_URL:"/week6_vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:G,VITE_PATH:J}=F,K=A("counter",{state:()=>({count:0}),actions:{increment(){this.count+=1},addToCart(e,s=1){console.log("pinia");const a=`${G}/api/${J}/cart`;p.post(a,{data:{product_id:e,qty:s}}).then(n=>{console.log(n),f.fire({position:"top-end",icon:"success",title:`${n.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})}).catch(n=>{f.fire({position:"top-end",icon:"error",title:`${n.response.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})})}}});var Q={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"ting-hexschool",BASE_URL:"/week6_vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:S,VITE_PATH:T}=Q,V=A("counter",{state:()=>({count:0,isLoading:!0,products:[],cart:{},qty:1,loadingItem:"",pagination:{},selectedOption:""}),actions:{increment(){this.count+=1},getProducts(e){console.log("piniagetProductsNEW"),this.isLoading=!0;let s=`${S}/api/${T}/products?page=${e||1}`;this.selectedOption!==""&&(s=`${S}/api/${T}/products?category=${this.selectedOption}&page=${e||1}`),p.get(s).then(a=>{this.isLoading=!1,this.pagination=a.data.pagination,console.log(this.pagination),this.products=a.data.products,console.log(this.products)}).catch(a=>{this.isLoading=!1,alert(a.response.data.message)})},serchBtn(e){console.log("serchBtn"),this.selectedOption=e,this.getProducts()}}});var X={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"ting-hexschool",BASE_URL:"/week6_vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:E,VITE_PATH:y}=X,Y={components:{Swiper:W,SwiperSlide:M},data(){return{modules:[j,q,z],selectedNum:"",productInfo:{imagesUrl:[],content:""}}},mounted(){console.log(this.$route),this.getProducts(),this.getProductInfo(this.$route.params.id),console.log(this.$route.params.id)},methods:{...b(V,["getProducts"]),...b(K,["addToCart"]),getProductInfo(e){const s=`${E}/api/${y}/product/${e}`;p.get(s).then(a=>{this.productInfo=a.data.product,console.log(this.productInfo),console.log(777)}).catch(a=>{alert(a.response.data.message)})},addToCart(e,s=1){const a=`${E}/api/${y}/cart`;p.post(a,{data:{product_id:e,qty:s}}).then(n=>{console.log(n),f.fire({position:"top-end",icon:"success",title:`${n.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})}).catch(n=>{f.fire({position:"top-end",icon:"error",title:`${n.response.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})})}},watch:{$route:{handler(){alert("changed"),this.getProductInfo(this.$route.params.id)},deep:!0}},computed:{...B(V,["products","pagination","isLoading"])}},v=e=>(H("data-v-380d9f31"),e=e(),U(),e),Z=v(()=>t("div",{class:"outer"},null,-1)),tt={class:"container mt-5"},et={class:"breadcrumb d-flex"},ot={class:"row productProfile"},st={class:"col-md-6"},it=["src"],at={class:"col-md-6"},lt={class:"fw-bold"},nt={class:"mt-3"},dt=v(()=>t("option",{disabled:"",value:""},"選擇數量至購物車",-1)),rt=["value"],ct={class:"d-grid gap-2 d-md-flex justify-content-md-end mt-3"},ut={class:"text-decoration-line-through"},pt={class:"fw-bold text-danger h5"},ft={class:"d-grid gap-2 d-md-flex justify-content-md-end mt-3"},_t=O('<br data-v-380d9f31><div class="rules" data-v-380d9f31><h3 class="fw-bold" data-v-380d9f31>購買須知</h3><ul class="rules-list" data-v-380d9f31><li data-v-380d9f31><i class="bi bi-balloon-fill text-Warning" data-v-380d9f31></i> 商品品質：所有寵物商品均符合品質標準，確保安全可靠。</li><li data-v-380d9f31><i class="bi bi-balloon-fill text-Warning" data-v-380d9f31></i> 產品說明：每個商品都有清晰的產品說明，包括用途、材質、尺寸等訊息，以幫助客戶做出明智的選擇。</li><li data-v-380d9f31><i class="bi bi-balloon-fill text-Warning" data-v-380d9f31></i> 價格透明：商品價格明確顯示，不存在隱性費用。</li><li data-v-380d9f31><i class="bi bi-balloon-fill text-Warning" data-v-380d9f31></i> 客戶服務：提供優質客戶服務，及時回答客戶疑問並解決問題。</li><li data-v-380d9f31><i class="bi bi-balloon-fill text-Warning" data-v-380d9f31></i> 退換政策：提供合理的退換貨政策，確保顧客權益。</li><li data-v-380d9f31><i class="bi bi-balloon-fill text-Warning" data-v-380d9f31></i> 保障措施：採取必要措施保障客戶隱私和交易安全。</li><li data-v-380d9f31><i class="bi bi-balloon-fill text-Warning" data-v-380d9f31></i> 使用者回饋：歡迎客戶提供回饋和建議，以持續改善我們的服務和產品。</li></ul></div>',2),ht={class:"similarArea"},mt=v(()=>t("h3",{class:"fw-bold"},"類似商品",-1)),gt={class:"cardOuter"};function vt(e,s,a,n,o,I){const c=_("router-link"),$=_("swiper-slide"),k=_("swiper");return r(),h(m,null,[Z,t("div",tt,[t("ul",et,[t("li",null,[u(c,{to:"/",class:"nav-link"},{default:d(()=>[g("首頁 /")]),_:1})]),t("li",null,[u(c,{to:"/products",class:"nav-link"},{default:d(()=>[g("產品首面 /")]),_:1})]),t("li",null,[u(c,{to:`/products?category=${o.productInfo.category}`,class:"nav-link"},{default:d(()=>[g(l(o.productInfo.category),1)]),_:1},8,["to"])])]),t("div",ot,[t("div",st,[t("img",{src:o.productInfo.imageUrl,class:"img-fluid"},null,8,it)]),t("div",at,[t("h1",lt,l(o.productInfo.title),1),t("h5",nt,"商品分類:"+l(o.productInfo.category),1),t("p",null,l(o.productInfo.description),1),t("p",null,l(o.productInfo.content),1),C(t("select",{class:"form-select","aria-label":"Default select example","onUpdate:modelValue":s[0]||(s[0]=i=>o.selectedNum=i)},[dt,(r(),h(m,null,P(20,i=>t("option",{key:i,value:i}," 選購"+l(i)+"個至購物車 ",9,rt)),64))],512),[[N,o.selectedNum]]),t("div",ct,[t("div",ut,"原價:"+l(o.productInfo.origin_price)+"元",1),t("div",pt,"優惠價格:"+l(o.productInfo.price)+"元",1)]),t("div",ft,[t("button",{type:"button",class:"btn btn-primary",onClick:s[1]||(s[1]=i=>I.addToCart(o.productInfo.id))},"立即購買"),t("button",{type:"button",class:D(["btn btn-outline-primary",{disabled:!o.selectedNum}]),onClick:s[2]||(s[2]=i=>I.addToCart(o.productInfo.id,o.selectedNum))},"點我加入購物車",2)])])]),_t,t("div",ht,[mt,u(k,{breakpoints:{640:{slidesPerView:1,spaceBetween:5},768:{slidesPerView:1,spaceBetween:10},1024:{slidesPerView:3,spaceBetween:10}},loop:!0,loopedSlides:e.products.length,slidesPerView:"1",centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},modules:o.modules,class:"mySwiper mb-5 container"},{default:d(()=>[(r(!0),h(m,null,P(e.products,i=>(r(),w($,{key:i.id},{default:d(()=>[t("div",gt,[e.products&&e.products.length>0?(r(),w(c,{key:0,class:"card-hotProduct card--lg",style:L(`background-image: url(${i.imageUrl})`),to:`/product/${i.id}`},{default:d(()=>[t("h5",null,l(i.title),1),t("div",null,l(i.category),1),t("div",null,l(`${i.price}/${i.unit}`),1)]),_:2},1032,["style","to"])):R("",!0)])]),_:2},1024))),128))]),_:1},8,["loopedSlides","modules"])])])],64)}const St=x(Y,[["render",vt],["__scopeId","data-v-380d9f31"]]);export{St as default};
