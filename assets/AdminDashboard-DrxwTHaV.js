import{a as c}from"./axios-Bo0ATomq.js";import{_ as p,r,o as u,c as v,a,d as o,w as e,b as n,p as m,e as g}from"./index-CV-0e3G1.js";const b={mounted(){const s=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");c.defaults.headers.common.Authorization=s,this.checkLogin()},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2"}},methods:{checkLogin(){c.post(`${this.apiUrl}/api/user/check`).then(s=>{console.log("已登入"),this.$router.push("/admin/products"),console.log(s)}).catch(s=>{alert(s.response.data.message),this.$router.push("/login")})},logout(){c.post(`${this.apiUrl}/logout`).then(s=>{console.log(s),console.log("已登出"),this.$router.push("/")}).catch(s=>{alert(s)})}}},d=s=>(m("data-v-aaf0c8dd"),s=s(),g(),s),f={class:"container-fluid"},k={class:"row"},x={class:"navbar navbar-expand-md navbar-light bg-light fixed-top"},$={class:"container-fluid"},w=d(()=>a("a",{class:"navbar-brand",href:"/admin/products"},"後台",-1)),N=d(()=>a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1)),V={class:"collapse navbar-collapse",id:"navbarNav"},I={class:"navbar-nav"},L={class:"nav-item"},R={class:"nav-item"},A={class:"nav-item"},B={class:"nav-item"},C={class:"nav-item"},S={class:"mainArea"},T={class:"container"};function U(s,i,y,z,D,l){const t=r("RouterLink"),_=r("RouterView");return u(),v("div",f,[a("div",k,[a("nav",x,[a("div",$,[w,N,a("div",V,[a("ul",I,[a("li",L,[o(t,{to:"/",class:"nav-link"},{default:e(()=>[n("回到前台")]),_:1})]),a("li",R,[o(t,{to:"/admin/products",class:"nav-link"},{default:e(()=>[n("後台產品列表")]),_:1})]),a("li",A,[o(t,{to:"/admin/orders",class:"nav-link"},{default:e(()=>[n("後台訂單")]),_:1})]),a("li",B,[o(t,{to:"/admin/coupons",class:"nav-link"},{default:e(()=>[n("優惠卷管理")]),_:1})]),a("li",C,[a("a",{href:"#",class:"nav-link",onClick:i[0]||(i[0]=(...h)=>l.logout&&l.logout(...h))},"登出")])])])])])]),a("div",S,[a("main",T,[o(_)])])])}const q=p(b,[["render",U],["__scopeId","data-v-aaf0c8dd"]]);export{q as default};
