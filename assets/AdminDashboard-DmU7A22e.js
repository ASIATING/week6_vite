import{a}from"./axios-Bo0ATomq.js";import{_ as h,r as l,o as p,c as m,a as n,b as t,w as r,d as e}from"./index-BT6PyEIl.js";const _={mounted(){const o=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");a.defaults.headers.common.Authorization=o,this.checkLogin()},data(){return{apiUrl:"https://vue3-course-api.hexschool.io/v2/"}},methods:{checkLogin(){a.post(`${this.apiUrl}/api/user/check`).then(o=>{console.log(o)}).catch(o=>{alert(o.response.data.message),this.$router.push("/login")})},logout(){a.post(`${this.apiUrl}/logout`).then(o=>{console.log(o),this.$router.push("/")}).catch(o=>{alert(o)})}}},f=n("h5",null,"後台-首頁",-1);function k(o,c,g,$,x,i){const s=l("RouterLink"),u=l("RouterView");return p(),m("div",null,[n("div",null,[f,t(s,{to:"/"},{default:r(()=>[e("回到前台")]),_:1}),e(" | "),t(s,{to:"/admin/products"},{default:r(()=>[e("後台產品列表")]),_:1}),e(" | "),t(s,{to:"/admin/orders"},{default:r(()=>[e("後台訂單")]),_:1}),e(" | "),n("a",{href:"#",onClick:c[0]||(c[0]=(...d)=>i.logout&&i.logout(...d))},"登出")]),t(u)])}const w=h(_,[["render",k]]);export{w as default};
