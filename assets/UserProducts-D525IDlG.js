import{a as w}from"./axios-Bo0ATomq.js";import{S as y}from"./sweetalert2.all-Bv4Tm-lA.js";import{p as A}from"./PaginationArea-BtDwIjWS.js";import{S as E,a as O,A as T,N as V,P as L}from"./pagination.min-Cu3D-kZH.js";import{_ as $,r as p,o as d,c as r,a as t,l as K,v as j,d as m,w as h,t as a,F as b,j as k,i as B,h as C,n as D,p as N,e as U}from"./index-DaV_B7mf.js";const u="/week6_vite/catFoot.png";var F={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"ting-hexschool",BASE_URL:"/week6_vite/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:g,VITE_PATH:f}=F,M={components:{paginationArea:A,Swiper:E,SwiperSlide:O},data(){return{serchKeyword:"",products:[],cart:{},qty:1,productModal:null,loadingItem:"",pagination:{},selectedOption:"",modules:[T,V,L]}},mounted(){this.getProducts()},methods:{getProducts(i){this.isLoading=!0,this.serchKeyword="";let o=`${g}/api/${f}/products?page=${i||1}`;this.selectedOption!==""&&(o=`${g}/api/${f}/products?category=${this.selectedOption}&page=${i||1}`),w.get(o).then(c=>{this.isLoading=!1,this.pagination=c.data.pagination,console.log(this.pagination),this.products=c.data.products}).catch(c=>{this.isLoading=!1,alert(c.response.data.message)})},serchBtn(i){this.selectedOption=i,this.getProducts()},addToCart(i,o=1){const c=`${g}/api/${f}/cart`;w.post(c,{data:{product_id:i,qty:o}}).then(_=>{console.log(_),y.fire({position:"top-end",icon:"success",title:`${_.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})}).catch(_=>{y.fire({position:"top-end",icon:"error",title:`${_.response.data.message}`,showConfirmButton:!1,toast:!0,timer:1500})})}},watch:{},computed:{filteredProducts(){return this.products.filter(i=>i.title.toLowerCase().includes(this.serchKeyword.toLowerCase()))}}},e=i=>(N("data-v-96d74118"),i=i(),U(),i),R={class:"productsContainer pt-lg-5 pt-3"},z={class:"container"},H={class:"row"},q={class:"col-md-4"},G={class:"sideBar"},J=e(()=>t("h3",{class:"fw-bold"},"搜尋您要的商品",-1)),Q=e(()=>t("h3",{class:"fw-bold"},"商品分類",-1)),W={class:"list-group"},X=e(()=>t("input",{type:"radio",name:"options",id:"option1"},null,-1)),Y=e(()=>t("label",{for:"option1"},"全部商品",-1)),Z=e(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),tt=[X,Y,Z],st=e(()=>t("input",{type:"radio",name:"options",id:"option2"},null,-1)),et=e(()=>t("label",{for:"option2"},"捐贈浪狗品項",-1)),ot=e(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),it=[st,et,ot],nt=e(()=>t("input",{type:"radio",name:"options",id:"option3"},null,-1)),lt=e(()=>t("label",{for:"option3"},"捐贈浪貓品項",-1)),dt=e(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),at=[nt,lt,dt],ct=e(()=>t("input",{type:"radio",name:"options",id:"option4"},null,-1)),rt=e(()=>t("label",{for:"option4"},"狗飼料",-1)),_t=e(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),pt=[ct,rt,_t],ut=e(()=>t("input",{type:"radio",name:"options",id:"option5"},null,-1)),mt=e(()=>t("label",{for:"option5"},"貓飼料",-1)),ht=e(()=>t("img",{src:u,alt:"導覽圖"},null,-1)),gt=[ut,mt,ht],ft={class:"d-none d-md-block"},vt=e(()=>t("h5",{class:"fw-bold mt-5"},"近期熱賣",-1)),wt={class:"cardOuter"},yt={class:"col-md-8"},bt={class:"fw-bold"},kt={key:0,class:"loading-container vh-100"},Bt={class:"row g-0"},Ct={class:"col-md-4"},Pt={class:"d-flex justify-content-center justify-content-md-start align-items-center h-100"},St=["src"],xt={class:"col-md-8"},It={class:"card-body"},At={class:"card-title fw-bold"},Et={class:"card-text d-none d-md-block"},Ot={class:"d-flex justify-content-between align-items-end"},Tt={class:"fw-bold text-danger fz-3"},Vt={class:"d-flex flex-column flex-md-row align-items-md-center mt-md-0 mt-3"},Lt=e(()=>t("div",{class:"btn btn-primary cardBtn moreBtn mb-2 mb-md-0 mr-md-3"},"看商品詳情",-1)),$t=["onClick"],Kt={key:2,class:"d-flex justify-content-end"};function jt(i,o,c,_,n,l){const v=p("router-link"),P=p("swiper-slide"),S=p("swiper"),x=p("vue-loading"),I=p("paginationArea");return d(),r("div",R,[t("div",z,[t("div",H,[t("div",q,[t("div",G,[J,K(t("input",{type:"text",class:"form-control mb-3",placeholder:"搜尋關鍵字","onUpdate:modelValue":o[0]||(o[0]=s=>n.serchKeyword=s)},null,512),[[j,n.serchKeyword]]),Q,t("ul",W,[t("li",{class:"list-group-item",onClick:o[1]||(o[1]=s=>l.serchBtn(""))},tt),t("li",{class:"list-group-item",onClick:o[2]||(o[2]=s=>l.serchBtn("贊助狗"))},it),t("li",{class:"list-group-item",onClick:o[3]||(o[3]=s=>l.serchBtn("贊助貓"))},at),t("li",{class:"list-group-item",onClick:o[4]||(o[4]=s=>l.serchBtn("狗飼料"))},pt),t("li",{class:"list-group-item",onClick:o[5]||(o[5]=s=>l.serchBtn("貓飼料"))},gt)]),t("div",ft,[vt,m(S,{spaceBetween:10,centeredSlides:!0,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{clickable:!0},slidesPerView:1,modules:n.modules,class:"mySwiper mb-5 container"},{default:h(()=>[(d(!0),r(b,null,k(n.products,s=>(d(),C(P,{key:s.id},{default:h(()=>[t("div",wt,[n.products&&n.products.length>0?(d(),C(v,{key:0,class:"card-hotProduct card--lg",style:D(`background-image: url(${s.imageUrl})`),to:`/product/${s.id}`},{default:h(()=>[t("h5",null,a(s.title),1),t("div",null,a(s.category),1),t("div",null,a(`${s.price}/${s.unit}`),1)]),_:2},1032,["style","to"])):B("",!0)])]),_:2},1024))),128))]),_:1},8,["modules"])])])]),t("div",yt,[t("h3",bt,a(n.selectedOption?n.selectedOption:"全部商品"),1),i.isLoading?(d(),r("div",kt,[m(x,{active:i.isLoading},null,8,["active"])])):(d(!0),r(b,{key:1},k(l.filteredProducts,s=>(d(),r("div",{key:s.id,class:"card productCard mb-3"},[t("div",Bt,[t("div",Ct,[t("div",Pt,[t("img",{src:s.imageUrl,class:"img-fluid rounded-start",alt:"商品照片"},null,8,St)])]),t("div",xt,[t("div",It,[t("h5",At,a(s.title),1),t("p",Et,a(s.description),1),t("div",Ot,[t("div",null,[t("div",null,[t("del",null,"建議售價:"+a(s.origin_price),1)]),t("div",Tt,"優惠價格:"+a(s.price),1)]),t("div",Vt,[m(v,{to:`/product/${s.id}`},{default:h(()=>[Lt]),_:2},1032,["to"]),t("div",{class:"btn btn-outline-primary cardBtn addToCartBtn ms-md-3",onClick:Dt=>l.addToCart(s.id)},"加入購物車",8,$t)])])])])])]))),128)),n.serchKeyword?B("",!0):(d(),r("div",Kt,[m(I,{pagination:n.pagination,onEmitPages:l.getProducts},null,8,["pagination","onEmitPages"])]))])])])])}const zt=$(M,[["render",jt],["__scopeId","data-v-96d74118"]]);export{zt as default};
